# Caddy reverse proxy for invest.kernow.io
# Configured via OPNsense Caddy plugin API (not a raw Caddyfile)
#
# OPNsense API objects:
#   ReverseProxy UUID: 40541e0f-86fb-4f6a-8672-c6ec5c45dd43
#   Handle UUID:       01bc63bf-9bc9-48e0-b53e-36faf10f9092
#
# DNS:
#   AdGuard rewrite: invest.kernow.io → 10.10.0.1
#
# Traffic flow:
#   Browser → invest.kernow.io
#     → AdGuard DNS rewrite → 10.10.0.1 (OPNsense/Caddy)
#       → Caddy reverse_proxy → http://10.10.0.101:80 (investmentology LXC)
#         → serve.py (FastAPI: PWA + API on single port)
#
# TLS: Let's Encrypt via Cloudflare DNS challenge (auto-managed by Caddy)
